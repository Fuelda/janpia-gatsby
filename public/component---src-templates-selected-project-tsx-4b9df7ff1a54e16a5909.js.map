{"version":3,"file":"component---src-templates-selected-project-tsx-4b9df7ff1a54e16a5909.js","mappings":"yOA8JA,UApIuCA,IAA2B,IAA1B,KAAEC,EAAI,YAAEC,GAAa,EAC3D,MAAM,KAAEC,GAASD,GACX,EAACE,EAAU,EAAEC,IAAiBC,EAAAA,EAAAA,UAAS,IACvC,iCACJC,EAAgC,qBAEhCC,EAAoB,qBACpBC,EAAoB,2BACpBC,EAA0B,2BAC1BC,EAA0B,2BAC1BC,EAA0B,2BAC1BC,EAA0B,qBAC1BC,EAAoB,8BACpBC,EAA6B,8BAC7BC,EAA6B,8BAC7BC,EAA6B,yBAC7BC,EAAwB,yBACxBC,EAAwB,yBACxBC,EAAwB,yBACxBC,EAAwB,0BACxBC,EAAyB,0BACzBC,EAAyB,8BACzBC,EAA6B,8BAC7BC,EAA6B,8BAC7BC,EAA6B,8BAC7BC,EAA6B,sBAC7BC,EAAqB,sBACrBC,EAAqB,4BACrBC,EAA2B,4BAC3BC,GACE9B,GACE,eACJ+B,EAAc,YACdC,EAAW,WACXC,EAAU,aACVC,EAAY,WACZC,EAAU,cACVC,EAAa,aACbC,EAAY,WACZC,EAAU,UACVC,IACEC,EAAAA,EAAAA,KAEEC,EAAgCnC,EAEhCoC,GAAaD,EACfA,EAA8BE,MAAMC,KAAKC,GAAiBA,EAAIC,KAAKC,QACnE,GAEEC,GACJP,GACAA,EAA8BE,MAAMM,MACjCJ,GAAiBA,EAAIC,KAAKC,QAAU5C,IAGnC+C,GAAsB,uCADNF,IAAeA,GAAYF,KAAK9C,KAAKmD,KACoB,iBAgC/E,OA9BAC,EAAAA,EAAAA,YAAU,KACRrB,EACExB,GACEC,GACAC,GACAC,GACAC,GACAC,GAEJoB,EACEnB,GACEC,GACAC,GAEJkB,EAAWjB,GACXkB,EAAajB,GAA4BC,GACzCiB,EAAWhB,GAA4BC,GACvCgB,EAAcf,GAA6BC,GAC3Ce,EACEd,GAAiCC,GAEnCc,EAAWb,GAAiCC,GAC5Ca,EACEZ,GACEC,GACAC,GACAC,EACH,GACA,KAGDuB,EAAAA,EAAAA,IAACC,EAAAA,EAAM,MACLD,EAAAA,EAAAA,IAACE,EAAAA,EAAG,CAACC,MAAM,+BACXH,EAAAA,EAAAA,IAACI,EAAAA,EAAY,CAACC,YAAaxD,KAC3BmD,EAAAA,EAAAA,IAAAA,EAAAA,MACEA,EAAAA,EAAAA,IAACM,EAAAA,EAAa,CAACzD,KAAMA,KACrBmD,EAAAA,EAAAA,IAACO,EAAAA,EAAa,CACZC,SAAS,SACT3D,KAAMA,EACN4D,UAAWd,IAAeA,GAAYF,KAAKgB,YAE3CT,EAAAA,EAAAA,IAAAA,EAAAA,KACyB,IAAtBX,GAAWqB,QACVrB,GAAWE,KAAKG,IACdM,EAAAA,EAAAA,IAAAA,EAAAA,CACEW,IAAKjB,EAKLkB,QAAS,IAAM7D,EAAc2C,GAAOmB,MAJ/B,CACHC,EAAAA,GACAhE,IAAe4C,GAASqB,EAAAA,KAG3B,IACGrB,EAAM,SAIhBM,EAAAA,EAAAA,IAAAA,EAAAA,KACGL,IACCK,EAAAA,EAAAA,IAAAA,MAAAA,MACEA,EAAAA,EAAAA,IAAAA,SAAAA,CACEgB,MAAM,OACNC,OAAO,QACPC,IAAKrB,OAITG,EAAAA,EAAAA,IAAAA,IAAAA,KAAG,gBAKJ,EAyKX,uCAAAmB,YAAAA,8BAAAC,YAAAA,gBAAA,SA9McC,EAAAA,IAAU,mCAAAF,YAAAA,+BAAAC,YAAAA,gBAAA,SAONE,EAAAA,IAAS,sCAAAH,YAAAA,iCAAAC,YAAAA,gBAAA,0DAAAD,YAAAA,+BAAAC,YAAAA,gBAAA,SAeTG,EAAAA,G","sources":["webpack://janpia-disclosure/./src/templates/selectedProject.tsx"],"sourcesContent":["import { graphql } from \"gatsby\";\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/lauout/Layout\";\nimport DetailHeader from \"../components/lauout/DetailHeader\";\nimport DetailSidebar from \"../components/organisms/DetailSidebar\";\nimport \"twin.macro\";\nimport DetailWrapper from \"../components/lauout/DetailWrapper\";\nimport {\n  detailBody,\n  detailFlex,\n  detailRoundTabBtn,\n  detailTab,\n  detailTabBtnSelected,\n} from \"../styles/detailPage\";\nimport { useDetailContext } from \"../context/detailContext\";\nimport Seo from \"../components/lauout/Seo\";\n\ntype ormType = {\n  node: {\n    biz_cd_fund_distr: string | null;\n    business_org_type: string;\n    data: { url: string };\n    round: number;\n  };\n};\n\nconst SelectedProject: React.FC<any> = ({ data, pageContext }) => {\n  const { slug } = pageContext;\n  const [currentTab, setCurrentTab] = useState(1);\n  const {\n    allStrapiOfferingReportManualFDO,\n    //サイドバーチェック用\n    strapiFinancePlanFDO,\n    strapiFinancePlanADO,\n    strapiFinancePlanFormerFDO,\n    strapiFinancePlanFormerADO,\n    strapiFinancePlanManualFDO,\n    strapiFinancePlanManualADO,\n    strapiEvaluationPlan,\n    strapiEvaluationPlanManualFDO,\n    strapiEvaluationPlanManualADO,\n    strapiOfferingReportManualFDO,\n    strapiPreReportManualFDO,\n    strapiPreReportManualADO,\n    strapiMidReportManualFDO,\n    strapiMidReportManualADO,\n    strapiPostReportManualFDO,\n    strapiPostReportManualADO,\n    strapiProgressReportManualFDO,\n    strapiProgressReportManualADO,\n    strapiCompleteReportManualFDO,\n    strapiCompleteReportManualADO,\n    strapiSettleReportFDO,\n    strapiSettleReportADO,\n    strapiSettleReportManualFDO,\n    strapiSettleReportManualADO,\n  } = data;\n  const {\n    setWithFinance,\n    setWithEval,\n    setWithORM,\n    setWithPreRM,\n    setWithMRM,\n    setWithPostRM,\n    setWithProRM,\n    setWithCRM,\n    setWithSR,\n  } = useDetailContext();\n\n  const allStrapiOfferingReportManual = allStrapiOfferingReportManualFDO;\n\n  const roundArray = allStrapiOfferingReportManual\n    ? allStrapiOfferingReportManual.edges.map((orm: ormType) => orm.node.round)\n    : [];\n\n  const currentItem =\n    allStrapiOfferingReportManual &&\n    allStrapiOfferingReportManual.edges.find(\n      (orm: ormType) => orm.node.round === currentTab\n    );\n  const currentPdfUrl = currentItem && currentItem.node.data.url;\n  const googleDocsViewerUrl = `https://docs.google.com/viewer?url=${currentPdfUrl}&embedded=true`;\n\n  useEffect(() => {\n    setWithFinance(\n      strapiFinancePlanFDO ||\n        strapiFinancePlanADO ||\n        strapiFinancePlanFormerFDO ||\n        strapiFinancePlanFormerADO ||\n        strapiFinancePlanManualFDO ||\n        strapiFinancePlanManualADO\n    );\n    setWithEval(\n      strapiEvaluationPlan ||\n        strapiEvaluationPlanManualFDO ||\n        strapiEvaluationPlanManualADO\n    );\n    setWithORM(strapiOfferingReportManualFDO);\n    setWithPreRM(strapiPreReportManualFDO || strapiPreReportManualADO);\n    setWithMRM(strapiMidReportManualFDO || strapiMidReportManualADO);\n    setWithPostRM(strapiPostReportManualFDO || strapiPostReportManualADO);\n    setWithProRM(\n      strapiProgressReportManualFDO || strapiProgressReportManualADO\n    );\n    setWithCRM(strapiCompleteReportManualFDO || strapiCompleteReportManualADO);\n    setWithSR(\n      strapiSettleReportFDO ||\n        strapiSettleReportADO ||\n        strapiSettleReportManualFDO ||\n        strapiSettleReportManualADO\n    );\n  }, []);\n\n  return (\n    <Layout>\n      <Seo title=\"公募結果報告 | 休眠預金活用事業 情報公開サイト\" />\n      <DetailHeader business_cd={slug} />\n      <div css={detailFlex}>\n        <DetailSidebar slug={slug} />\n        <DetailWrapper\n          category=\"公募結果報告\"\n          slug={slug}\n          updatedAt={currentItem && currentItem.node.updatedAt}\n        >\n          <div css={detailTab}>\n            {roundArray.length !== 0 &&\n              roundArray.map((round: number) => (\n                <button\n                  key={round}\n                  css={[\n                    detailRoundTabBtn,\n                    currentTab === round && detailTabBtnSelected,\n                  ]}\n                  onClick={() => setCurrentTab(round)}\n                >\n                  第{round}回\n                </button>\n              ))}\n          </div>\n          <div css={detailBody}>\n            {currentItem ? (\n              <div>\n                <iframe\n                  width=\"100%\"\n                  height=\"500px\"\n                  src={googleDocsViewerUrl}\n                ></iframe>\n              </div>\n            ) : (\n              <p>データはありません</p>\n            )}\n          </div>\n        </DetailWrapper>\n      </div>\n    </Layout>\n  );\n};\n\nexport default SelectedProject;\n\nexport const pageQuery = graphql`\n  query MyQuery($slug: String!) {\n    allStrapiOfferingReportManualFDO: allStrapiOfferingReportManual(\n      filter: {\n        biz_cd_fund_distr: { eq: $slug }\n        business_org_type: { eq: \"F\" }\n      }\n    ) {\n      edges {\n        node {\n          updatedAt(formatString: \"YYYY/MM/DD\")\n          data {\n            url\n          }\n          biz_cd_fund_distr\n          business_org_type\n          round\n        }\n      }\n    }\n    # サイドバーチェック用\n    strapiFinancePlanFDO: strapiFinancePlan(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiFinancePlanADO: strapiFinancePlan(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiFinancePlanFormerFDO: strapiFinancePlanFormer(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiFinancePlanFormerADO: strapiFinancePlanFormer(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiFinancePlanManualFDO: strapiFinancePlanManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiFinancePlanManualADO: strapiFinancePlanManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiEvaluationPlan(business_cd: { eq: $slug }) {\n      id\n    }\n    strapiEvaluationPlanManualFDO: strapiEvaluationPlanManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiEvaluationPlanManualADO: strapiEvaluationPlanManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiOfferingReportManualFDO: strapiOfferingReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiPreReportManualFDO: strapiPreReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiPreReportManualADO: strapiPreReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiMidReportManualFDO: strapiMidReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiMidReportManualADO: strapiMidReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiPostReportManualFDO: strapiPostReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiPostReportManualADO: strapiPostReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiProgressReportManualFDO: strapiProgressReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiProgressReportManualADO: strapiProgressReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiCompleteReportManualFDO: strapiCompleteReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiCompleteReportManualADO: strapiCompleteReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiSettleReportFDO: strapiSettleReport(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiSettleReportADO: strapiSettleReport(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n    strapiSettleReportManualFDO: strapiSettleReportManual(\n      biz_cd_fund_distr: { eq: $slug }\n      business_org_type: { eq: \"F\" }\n    ) {\n      id\n    }\n    strapiSettleReportManualADO: strapiSettleReportManual(\n      biz_cd_executive: { eq: $slug }\n      business_org_type: { eq: \"A\" }\n    ) {\n      id\n    }\n  }\n`;\n"],"names":["_ref","data","pageContext","slug","currentTab","setCurrentTab","useState","allStrapiOfferingReportManualFDO","strapiFinancePlanFDO","strapiFinancePlanADO","strapiFinancePlanFormerFDO","strapiFinancePlanFormerADO","strapiFinancePlanManualFDO","strapiFinancePlanManualADO","strapiEvaluationPlan","strapiEvaluationPlanManualFDO","strapiEvaluationPlanManualADO","strapiOfferingReportManualFDO","strapiPreReportManualFDO","strapiPreReportManualADO","strapiMidReportManualFDO","strapiMidReportManualADO","strapiPostReportManualFDO","strapiPostReportManualADO","strapiProgressReportManualFDO","strapiProgressReportManualADO","strapiCompleteReportManualFDO","strapiCompleteReportManualADO","strapiSettleReportFDO","strapiSettleReportADO","strapiSettleReportManualFDO","strapiSettleReportManualADO","setWithFinance","setWithEval","setWithORM","setWithPreRM","setWithMRM","setWithPostRM","setWithProRM","setWithCRM","setWithSR","useDetailContext","allStrapiOfferingReportManual","roundArray","edges","map","orm","node","round","currentItem","find","googleDocsViewerUrl","url","useEffect","___EmotionJSX","Layout","Seo","title","DetailHeader","business_cd","DetailSidebar","DetailWrapper","category","updatedAt","length","key","onClick","$_css","detailRoundTabBtn","detailTabBtnSelected","width","height","src","displayName","componentId","detailFlex","detailTab","detailBody"],"sourceRoot":""}